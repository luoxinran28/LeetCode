# 33. Search in Rotated Sorted Array

{% embed url="https://leetcode.com/problems/search-in-rotated-sorted-array/" %}

画图后将它分成四部分来看，target如果在上面线段，mid可能在左边也可能在右边，同理target如果在下面线段，分别判断mid可能在左边还是右边。如果直接找到target，可以立即返回。

![](../../../.gitbook/assets/image%20%285%29.png)

```javascript
var search = function(nums, target) {
  if(nums.length === 0) return -1;
  let start = 0, end = nums.length - 1, mid;
  while(start + 1 < end) {
    mid = Math.floor(start + (end - start) / 2);
    if(target === nums[mid]) return mid;
    else if(nums[start] < nums[mid]) {
      if(nums[start] <= target && target <= nums[mid]) end = mid;
      else start = mid;
    } else {
      if(nums[mid] <= target && target <= nums[end]) start = mid;
      else end = mid;
    }
  }
  if(nums[start] === target) return start;
  if(nums[end] === target) return end;
  return -1;
};
```

